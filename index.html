<!DOCTYPE html>
<html>
	<head>
		<title>Library Borrow System</title>
		<!-- link to main stylesheet -->
		<link rel="stylesheet" type="text/css" href="/css/main.css">
	</head>
	<body>
		<nav>
    		<ul>
        		<li><a href="/">Home</a></li>
	        	<li><a href="/about">About</a></li>
        		<li><a href="/cv">CV</a></li>
        		<li><a href="/blog">Blog</a></li>
    		</ul>
		</nav>
		<div class="container">
    		<div class="blurb">
        		<h1>Hi there, I'm Xavier Medy!</h1>
				<p>I'm best known as the horrible cop from <em>A Touch of Evil</em>. Don't trust me. <a href="/about">Read more about my life...</a></p>

        		<h2>Borrow a Book</h2>
        		<form id="borrowForm">
            		<label for="student_id">Student ID:</label>
            		<input type="number" id="student_id" required><br><br>
            		<label for="book_id">Book ID:</label>
            		<input type="number" id="book_id" required><br><br>
            		<button type="submit">Borrow</button>
        		</form>
    		</div><!-- /.blurb -->
		</div><!-- /.container -->

		<footer>
    		<ul>
        		<li><a href="mailto:xavier.medy14@gmail.com">email</a></li>
        		<li><a href="https://github.com/XavierMedy">github.com/XavierMedy</a></li>
			</ul>
		</footer>

		<script>
			document.getElementById('borrowForm').addEventListener('submit', function (e) {
				e.preventDefault();
				const studentId = document.getElementById('student_id').value;
				const bookId = document.getElementById('book_id').value;

				fetch('http://localhost:3000/borrow', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({ student_id: studentId, book_id: bookId })
				})
				.then(response => response.json())
				.then(data => {
					alert(data.message);
				})
				.catch(error => console.error('Error:', error));
			});
		</script>
	</body>
</html>
